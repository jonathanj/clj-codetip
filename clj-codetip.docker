FROM mithrandi/lein
MAINTAINER "Tristan Seligmann <mithrandi@mithrandi.net>"
COPY ["target/clj-codetip.jar", "/srv/codetip/clj-codetip.jar"]
COPY ["project.clj", "profiles.clj", "/srv/codetip/"]
COPY ["target/codetip.db", "/srv/codetip/db/codetip.db"]
WORKDIR /srv/codetip
VOLUME ["/srv/codetip/db"]
ENTRYPOINT ["/usr/bin/java", "-jar", "/srv/codetip/clj-codetip.jar", \
            "--database-uri", "jdbc:sqlite:/srv/codetip/db/codetip.db", \
            "--port", "80"]
EXPOSE 80
