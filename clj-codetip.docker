FROM debian:jessie
MAINTAINER "Tristan Seligmann <mithrandi@mithrandi.net>"
RUN apt-get update && DEBIAN_FRONTEND=noninteractive apt-get install -qy openjdk-7-jre-headless
COPY ["target/clj-codetip-0.1.0-standalone.jar", "/srv/codetip/clj-codetip.jar"]
WORKDIR /srv/codetip
ENTRYPOINT ["/usr/bin/java", "-jar", "/srv/codetip/clj-codetip.jar", \
            "--port", "80"]
CMD ["--database-uri", "jdbc:sqlite:/srv/codetip/db/codetip.db"]
EXPOSE 80
